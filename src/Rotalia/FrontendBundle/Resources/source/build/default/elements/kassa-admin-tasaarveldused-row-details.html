<html><head></head><body><dom-module id="kassa-admin-tasaarveldused-row-details"><template><style>main{padding-left:120px;font-size:13px;}main div{display:flex;flex-flow:row nowrap;}main div span:first-child{flex:0 0 7em;}main div span:last-child{flex:0 0 2em;text-align:right;}td, th{padding-right:2em;text-align:left;}kassa-confirm-button{width:10em;}[hidden]{display:none;}</style><main hidden$="[[_isHidden(rowDetailsInfo)]]"><table><thead><tr><th>Konvent</th><th>Puudujääk</th><th>Olek</th></tr></thead><tbody><template is="dom-repeat" items="[[item.creditNettingRows]]" as="creditNettingRow"><tr><td>[[mapIdToValue(creditNettingRow.conventId, rowDetailsInfo.activeConvents, "name")]]</td><td style="text-align: right">[[eur2str(creditNettingRow.sum)]]</td><td>[[_computeStatus(creditNettingRow.sum, creditNettingRow.nettingDone)]]</td></tr></template></tbody></table><kassa-confirm-button hidden$="[[_isButtonHidden(rowDetailsInfo.conventId, item.creditNettingRows)]]" on-kassa-confirm="_confirmAction">[[_computeButtonText(rowDetailsInfo.conventId, item.creditNettingRows)]]</kassa-confirm-button></main></template><script>Polymer({is:'kassa-admin-tasaarveldused-row-details',properties:{item:{type:Object},rowDetailsInfo:{type:Object}},behaviors:[KassaBehavior],_isHidden:function(b){return!this.isTrue(b)||'kassa-admin-tasaarveldused'!==b.name},_computeStatus:function(b,c){var d;if(0<b)d=['Makse saamata','Makse saadud'];else if(0>b)d=['Makse sooritamata','Makse sooritatud'];else return'Tasaarveldus pole vajalik';return d[c]},_computeButtonText:function(b,c){if(b!==void 0&&c!==void 0)for(var d=0;d<c.length;d++)if(b===c[d].conventId)return c[d].nettingDone?'T\xFChista':0>c[d].sum?'Makse sooritatud':'Makse saabunud';return''},_isButtonHidden:function(b,c){if(b!==void 0&&c!==void 0)for(var d=0;d<c.length;d++)if(b===c[d].conventId)return 0===c[d].sum;return!0},_confirmAction:function(){for(var b=0;b<this.item.creditNettingRows.length;b++)if(this.rowDetailsInfo.conventId===this.item.creditNettingRows[b].conventId){this.fire('kassa-backend-action',{action:'doCreditNettingsPatch',conventId:this.rowDetailsInfo.conventId,creditNettingId:this.item.id,creditNettingRowType:{nettingDone:1-this.item.creditNettingRows[b].nettingDone}});break}}});</script></dom-module></body></html>