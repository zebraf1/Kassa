<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="kassa-icons.html">
<link rel="import" href="kassa-behavior.html">
<link rel="import" href="kassa-material.html">

<dom-module id="kassa-ost-valitud-toode">
	<template>
		<style>
			[data-invisible] {
				visibility: hidden;
			}

			span {
				display: block;
				flex: 0 0 auto;
				text-align: right;
			}

			span:first-child {
				flex: 1 0 auto;
				text-align: left;
			}

			div {
				flex: 0 0 auto;
				display: flex;
			}

			div span:last-child {
				padding-left: 0.8em;
			}

		</style>

		<kassa-material direction="horizontal">
			<paper-icon-button icon="kassa:clear" data-invisible$="[[fixed]]"></paper-icon-button>
			<span class="name">[[product.name]]</span>
			<div class="row-break">
				<span>[[product.amount]] &times; [[product._amount]]</span>
				<span>[[_computePrice(product.amount, product.price)]]</span>
			</div>
		</kassa-material>


	</template>
	<script>
        Polymer({
            is: "kassa-ost-valitud-toode",
            properties: {
                product: {
                    type: Object
                },
                fixed: {
                    type: Boolean,
                    value: false
                }
            },
            behaviors: [KassaBehavior],
            _computePrice: function (kogus, hind) {
                // Ãœksiku toote hind
                return this.eur2str(kogus * hind);
            }
        })
	</script>
</dom-module>